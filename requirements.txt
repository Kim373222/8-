altair==5.5.0
attrs==25.3.0
blinker==1.9.0
cachetools==5.5.2
certifi==2025.6.15
charset-normalizer==3.4.2
click==8.2.1
colorama==0.4.6
contourpy==1.3.2
cycler==0.12.1
fonttools==4.58.4
gitdb==4.0.12
GitPython==3.1.44
idna==3.10
Jinja2==3.1.6
joblib==1.5.1
jsonschema==4.24.0
jsonschema-specifications==2025.4.1
kiwisolver==1.4.8
MarkupSafe==3.0.2
matplotlib==3.10.3
narwhals==1.42.1
numpy==2.3.0
packaging==24.2
pandas==2.3.0
patsy==1.0.1
pillow==11.2.1
plotly==6.1.2
protobuf==6.31.1
pyarrow==20.0.0
pydeck==0.9.1
pyparsing==3.2.3
python-dateutil==2.9.0.post0
pytz==2025.2
referencing==0.36.2
requests==2.32.4
rpds-py==0.25.1
scikit-learn==1.7.0
scipy==1.15.3
seaborn==0.13.2
six==1.17.0
smmap==5.0.2
statsmodels==0.14.4
streamlit==1.45.1
tenacity==9.1.2
threadpoolctl==3.6.0
toml==0.10.2
tornado==6.5.1
typing_extensions==4.14.0
tzdata==2025.2
urllib3==2.4.0
watchdog==6.0.0

import streamlit as st
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import plotly.express as px
import matplotlib.font_manager as fm

# í•œê¸€ í°íŠ¸ ì„¤ì • (ì˜ˆ: ë§‘ì€ ê³ ë”•)
plt.rcParams['font.family'] = 'Malgun Gothic'  # Windows ê¸°ì¤€
plt.rcParams['axes.unicode_minus'] = False     # ë§ˆì´ë„ˆìŠ¤ ê¸°í˜¸ ê¹¨ì§ ë°©ì§€

st.title("ğŸ“Š ë™ì  ì‹œê°í™” & í•„í„°ë§ ì˜ˆì œ")

# ì˜ˆì œ ë°ì´í„° ìƒì„±
np.random.seed(42)
data = pd.DataFrame({
    "ë‚ ì§œ": pd.date_range("2023-01-01", periods=100),   #"2023-01-01"ë¶€í„° ì‹œì‘í•´ì„œ í•˜ë£¨ì”© ì¦ê°€í•˜ëŠ” ë‚ ì§œë¥¼ ì´ 100ê°œ ìƒì„±
    "ì¹´í…Œê³ ë¦¬": np.random.choice(["ê°€", "ë‚˜", "ë‹¤"], size=100),
    "ê°’1": np.random.randn(100).cumsum(),  # ë‚œìˆ˜ 100ê°œë¥¼ ìƒì„±í•˜ê³ , ê·¸ ê°’ì„ ì°¨ë¡€ëŒ€ë¡œ ë”í•´ì„œ ëˆ„ì 
    "ê°’2": np.random.randn(100).cumsum()   # ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
})

# ğŸ“Œ ì‚¬ì´ë“œë°” í•„í„°
st.sidebar.header("ğŸ“‚ í•„í„° ì„¤ì •")

# ì¹´í…Œê³ ë¦¬ í•„í„°
selected_category = st.sidebar.multiselect(
    "ì¹´í…Œê³ ë¦¬ ì„ íƒ", options=data["ì¹´í…Œê³ ë¦¬"].unique(), default=data["ì¹´í…Œê³ ë¦¬"].unique()
)

# ë‚ ì§œ ë²”ìœ„ ì„ íƒ
date_range = st.sidebar.date_input(
    "ë‚ ì§œ ë²”ìœ„ ì„ íƒ", value=(data["ë‚ ì§œ"].min(), data["ë‚ ì§œ"].max())
)

# ë‚ ì§œ ì„ íƒ ì˜¤ë¥˜ ë””ë²„ê¹…
date_range = list(date_range)
if len(date_range)<2:
    date_range.append(date_range[0])

# ê·¸ë˜í”„ ì¢…ë¥˜ ì„ íƒ
chart_type = st.sidebar.selectbox(
    "ê·¸ë˜í”„ ìœ í˜• ì„ íƒ", ["ì„  ê·¸ë˜í”„ (line)", "ë§‰ëŒ€ ê·¸ë˜í”„ (bar)", "Plotly"]
)

# ğŸ“Š ë°ì´í„° í•„í„°ë§
filtered_data = data[
    (data["ì¹´í…Œê³ ë¦¬"].isin(selected_category)) &
    (data["ë‚ ì§œ"] >= pd.to_datetime(date_range[0])) &
    (data["ë‚ ì§œ"] <= pd.to_datetime(date_range[1]))
]

st.write(f"### ì„ íƒëœ ë°ì´í„° ({len(filtered_data)}í–‰)")
st.dataframe(filtered_data)

# ğŸ¨ ì‹œê°í™” ì¶œë ¥
st.subheader("ğŸ“ˆ ì‹œê°í™” ê²°ê³¼")

if chart_type == "ì„  ê·¸ë˜í”„ (line)":
    st.line_chart(filtered_data.set_index("ë‚ ì§œ")[["ê°’1", "ê°’2"]])
elif chart_type == "ë§‰ëŒ€ ê·¸ë˜í”„ (bar)":
    st.bar_chart(filtered_data.set_index("ë‚ ì§œ")[["ê°’1", "ê°’2"]])
else:
    fig = px.line(filtered_data, x="ë‚ ì§œ", y=["ê°’1", "ê°’2"], color="ì¹´í…Œê³ ë¦¬", markers=True)
    st.plotly_chart(fig)
